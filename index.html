<!DOCTYPE html>
<html lang="en" class="mdui-theme-auto">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>JavaScript file explorer</title>
  <script src="mdui.global.js"></script>
  <link rel="stylesheet" href="styles/mdui.css">
  <link rel="stylesheet" href="styles/style.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="manifest" href="manifest.json" />
</head>
<body>
    <mdui-navigation-rail value="home" id="navigationRail">
    <mdui-navigation-rail-item id="resetButton" value="home">
      Home
    <mdui-icon slot="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg></mdui-icon>
    <mdui-icon slot="active-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-120v-480l320-240 320 240v480H560v-280H400v280H160Z"/></svg></mdui-icon>
    </mdui-navigation-rail-item>
    <mdui-navigation-rail-item id="scanResults" value="scan">
      My scan
      <mdui-icon slot="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-240v-480 188-28 320Zm268 80H160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v165q-17-18-37-32t-43-25v-108H447l-80-80H160v480h243q3 21 9.5 41t15.5 39Zm252-320q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Zm-20 320h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6Z"/></svg></mdui-icon>
      <mdui-icon slot="active-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v165q-40-42-92-63.5T679-560q-116 0-197.5 81.5T400-281q0 32 7 62t21 59H160Zm520 80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm-20-80h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6Z"/></svg></mdui-icon>
    </mdui-navigation-rail-item>
  </mdui-navigation-rail>
  <div id="locationSelect">
    <h1>JavaScript file explorer</h1>
    <h2>Pick a folder to analyze its size and contents, or drop folders on this page!</h2>
    <h3> No data is sent to anyone, it all happens just on your device! <a href="https://github.com/helloyanis/js-explorer">Check the source code!</a></h3>
    <mdui-button id="scanButton" class="mdui-color-theme-accent mdui-ripple">
      Select a folder
    </mdui-button>
    <mdui-card id="dropArea">
      <mdui-icon>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640H447l-80-80H160v480l96-320h684L837-217q-8 26-29.5 41.5T760-160H160Zm84-80h516l72-240H316l-72 240Zm0 0 72-240-72 240Zm-84-400v-80 80Z"/></svg>
      </mdui-icon>
      Or drop your folder here (Faster processing!)</mdui-card>
    <input type="file"
           id="filePicker"
           webkitdirectory
           multiple
           class="hidden" />
    <h3 id="loadingMessage" class="hidden">Now loading. Please wait! Folders containing many files can take a few minutes.</h3>
      <h3>Get in touch!</h3>
      <p>JavaScript file explorer is a <a href="https://github.com/helloyanis/js-explorer"
      target="_blank">free and open-source project</a> made by <a href="https://github.com/helloyanis/"
      target="_blank">ðŸ¦Š helloyanis</a>.
      <p>If you have any questions, suggestions or issues, feel free to contact me!</p>
      <mdui-segmented-button-group>
        <mdui-segmented-button variant="tonal" rel="me" href="mailto:jsfileexplorer@xn--3s8h30f.ws">
          <mdui-icon slot="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
              <path
                d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480v58q0 59-40.5 100.5T740-280q-35 0-66-15t-52-43q-29 29-65.5 43.5T480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480v58q0 26 17 44t43 18q26 0 43-18t17-44v-58q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93h200v80H480Zm0-280q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Z" />
            </svg>
          </mdui-icon>
          E-mail me
        </mdui-segmented-button>
        <mdui-segmented-button variant="tonal" rel="me" href="https://furries.club/@helloyanis" target="_blank">
          <mdui-icon slot="icon">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"/></svg>
          </mdui-icon>
          Follow me on Mastodon
        </mdui-segmented-button>
      </mdui-segmented-button-group>
  </div>
  <div id="sortControls" class="hidden">
    <mdui-dropdown>
      <mdui-button slot="trigger" variant="outlined">
        <mdui-icon slot="icon">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"/>
          </svg>
        </mdui-icon>
        Sort</mdui-button>
      <mdui-menu>
        <mdui-menu-item id="sortByName">By name</mdui-menu-item>
        <mdui-menu-item id="sortBySize">By size</mdui-menu-item>
      </mdui-menu>
    </mdui-dropdown>

    <mdui-dropdown>
      <mdui-button slot="trigger" variant="outlined">
        <mdui-icon slot="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v242q-18-14-38-23t-42-19v-200H447l-80-80H160v480h120v80H160ZM640-40q-91 0-168-48T360-220q35-84 112-132t168-48q91 0 168 48t112 132q-35 84-112 132T640-40Zm0-80q57 0 107.5-26t82.5-74q-32-48-82.5-74T640-320q-57 0-107.5 26T450-220q32 48 82.5 74T640-120Zm0-40q-25 0-42.5-17.5T580-220q0-25 17.5-42.5T640-280q25 0 42.5 17.5T700-220q0 25-17.5 42.5T640-160Zm-480-80v-480 277-37 240Z"/></svg></mdui-icon>
        Display</mdui-button>
      <mdui-menu>
        <mdui-menu-item id="showFileTree">File tree</mdui-menu-item>
        <mdui-menu-item id="showAllFiles">All files (slow!)</mdui-menu-item>
      </mdui-menu>
    </mdui-dropdown>

    <mdui-text-field id="sizeFilter" step="any" label="Only show files over..." type="number" suffix="Mb"></mdui-text-field>
  </div>

    <mdui-linear-progress id="scanProgress" class="hidden"></mdui-linear-progress>
    <mdui-dialog close-on-overlay-click id="filePreviewDialog">
    </mdui-dialog>
  <nav id="breadcrumb"></nav>
  <div id="fileList" class="hidden">
    <mdui-circular-progress indeterminate class="center-screen"></mdui-circular-progress>
  </div>

  <script src="script.js"></script>
</body>
</html>
